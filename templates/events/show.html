<div class="page-header">
  <h1>Event#Show</h1>
</div>

<ul class="list-unstyled list-inline">
  <li><a href="<%= eventsPath() %>" class="btn btn-info">Back to all Events</a></li>
  <li><a href="<%= editEventPath({ event_id: event.ID })%>" class="btn btn-warning">Edit</a></li>
  <li><a href="<%= eventPath({ event_id: event.ID })%>" data-method="DELETE" data-confirm="Are you sure?" class="btn btn-danger">Destroy</a>
</ul>

<p>
  <strong>Name</strong>: <%= event.Name %>
</p>
<p>
  <strong>Date</strong>: <%= event.Date %>
</p>

<%= for (person) in people { %>
<div class="page-header">
  <h1><%= person.Name %></h1>
</div>

<h3>Budget</h3>

<%= if (person.HasBudget()) { %>
  <%= person.Budget.Maximum %>
<% } else { %>
  <p>No budget</p>
<% } %>

<h3>Gifts</h3>

<ul class="list-unstyled list-inline">
  <li><a href="<%= newGiftsPath() %>?event_id=<%= event.ID %>&person_id=<%= person.ID %>" class="btn btn-primary">Create New Gift</a></li>
</ul>

<%= if (len(person.Gifts) > 0) { %>
<table class="table table-striped">
  <thead>
  <th>Name</th>
    <th>Price</th>
    <th>Url</th>
    <th>&nbsp;</th>
  </thead>
  <tbody>
    <%= for (gift) in person.Gifts { %>
      <tr>
      <td><%= gift.Name %></td>
        <td><%= gift.Price %></td>
        <td><%= gift.Url %></td>
        <td>
          <div class="pull-right">
            <a href="<%= giftPath({ gift_id: gift.ID }) %>" class="btn btn-info">View</a>
            <a href="<%= editGiftPath({ gift_id: gift.ID }) %>" class="btn btn-warning">Edit</a>
            <a href="<%= giftPath({ gift_id: gift.ID }) %>" data-method="DELETE" data-confirm="Are you sure?" class="btn btn-danger">Destroy</a>
          </div>
        </td>
      </tr>
    <% } %>
  </tbody>
</table>
<% } else { %>
  <p>No Gifts</p>
<% } %>

<% } %>